$(document).pjax("a[target!=_blank]",".column-main",{scrollTo:$("body").offsetTop-60,fragment:".column-main",timeout:8e3}),$(document).on("pjax:click",function(){console.log("------------------------"),console.log("pjax:click")}),$(document).on("pjax:beforeSend",function(){console.log("pjax:beforeSend")}),$(document).on("pjax:start",function(){console.log("pjax:start")}),$(document).on("pjax:send",function(){console.log("pjax:send"),$("html, body").animate({scrollTop:$("body").position().top-60},500)}),$(document).on("pjax:clicked",function(){console.log("pjax:clicked")}),$(document).on("pjax:beforeReplace",function(){console.log("pjax:beforeReplace"),$(".navbar-nav .current,.panel-side-menu .current").removeClass("current"),commonContext.initNavbar()}),$(document).on("pjax:success",async function(o,n,e,t,a){console.log("pjax success");const c=$($.parseHTML(n,document,!0)),l=$(document),s=$("head");var i;c.filter("link[data-pjax]").each(function(){0===l.find(`link[href='${$(this).attr("href")}']`).length&&(s.append($(this)),console.log("加载css "+$(this).attr("href")))}),commonContext.initGallery();for(i of c.filter("script[data-pjax]")){let e=i.src;if(0===l.find(`script[src='${e}']`).length)if(i.defer||i.async)s.append($(i)),console.log("异步加载js "+e);else{console.log("同步加载js "+e);let n=document.createElement("script"),o=document.getElementsByTagName("head")[0];n.type="text/javascript",n.src=e,o.appendChild(n),await new Promise(function(o){n.onload=n.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(n.onload=n.onreadystatechange=null,console.log("加载js完成 "+e),o())}})}}console.log("全部处理完成"),window.journalPjax&&window.journalPjax(),window.postPjax&&window.postPjax()}),$(document).on("pjax:timeout",function(){console.log("pjax:timeout")}),$(document).on("pjax:error",function(){console.log("pjax:error")}),$(document).on("pjax:complete",function(){console.log("pjax end")}),$(document).on("pjax:end",function(){console.log("pjax:end")}),$(document).on("pjax:popstate",function(){console.log("pjax:popstate")});
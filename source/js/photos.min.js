(()=>{const t={initPhotos(){const t=$(".photos-gallery");let i=!1,e=!1;const a=a=>(i=!0,t.addClass("loading"),Utils.request({url:"/api/content/photos",method:"GET"}).then(a=>{var i=a.content||[];e=0===i.length||(i=i.reduce((a,i,t)=>`${a}<div href="${i.url}" data-fancybox="gallery" data-caption="${i.description||i.name||""}"><img width="100%" height="100%" src="${i.thumbnail}" alt="${i.name||""}"/><span class="team">${i.team}</span><p class="tit">${i.name}</p><div class="info"><p class="animated fadeInRightBig"><i class="joe-font joe-icon-paizhao"></i><span>${i.name}</span></p>${i.location?`<p class="animated fadeInRightBig"><i class="joe-font joe-icon-dingwei"></i><span>${i.location}</span></p>`:""}<p class="animated fadeInRightBig"><i class="joe-font joe-icon-shijian"></i>${Utils.formatDate(i.takeTime)}</p></div></div>`,""),t.append(i),t.justifiedGallery({rowHeight:200,maxRowHeight:!1,maxRowsCount:0,sizeRangeSuffixes:{},lastRow:"nojustify",captions:!1,waitThumbnailsLoad:!0,margins:10,extension:/\.(jpe?g|png|gif|bmp|webp)$/,cssAnimation:!1}),a.isLast)}).catch(a=>{}).finally(()=>{t.removeClass("loading"),i=!1}));a(),window.addEventListener("scroll",function(){$(window).scrollTop()+$(window).height()>=$(".page-photos").height()&&(i||e||(queryData.page++,a($(".photos-teams li.active").attr("data-team"))))}),$(".joe_photos__filter li").on("click",function(a){a.stopPropagation();const i=$(this);i.hasClass("active")||(i.addClass("active").siblings("li").removeClass("active"),reset({team:i.attr("data-filter")}))})}};window.photoPjax=function(i){Object.keys(t).forEach(a=>window.pjaxSerialNumber===i&&t[a]())},window.pjaxSerialNumber||t.initPhotos()})();
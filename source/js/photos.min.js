(()=>{const i={initPhotos(){const i=$(".photos-gallery");let t=!1,e=!1;const a=a=>(t=!0,i.addClass("loading"),Utils.request({url:"/api/content/photos",method:"GET"}).then(a=>{var t=a.content||[];e=0===t.length||(t=t.reduce((a,t,i)=>`${a}<div href="${t.url}" data-fancybox="gallery" data-caption="${t.description||t.name||""}"><img width="100%" height="100%" src="${t.thumbnail}" alt="${t.name||""}"/><span class="team">${t.team}</span><p class="tit">${t.name}</p><div class="info"><p class="animated fadeInRightBig"><i class="joe-font joe-icon-paizhao"></i><span>${t.name}</span></p>${t.location?`<p class="animated fadeInRightBig"><i class="joe-font joe-icon-dingwei"></i><span>${t.location}</span></p>`:""}<p class="animated fadeInRightBig"><i class="joe-font joe-icon-shijian"></i>${Utils.formatDate(t.takeTime)}</p></div></div>`,""),i.append(t),a.isLast)}).catch(a=>{}).finally(()=>{i.removeClass("loading"),t=!1}));a(),window.addEventListener("scroll",function(){$(window).scrollTop()+$(window).height()>=$(".page-photos").height()&&(t||e||(queryData.page++,a($(".photos-teams li.active").attr("data-team"))))}),$(".joe_photos__filter li").on("click",function(a){a.stopPropagation();const t=$(this);t.hasClass("active")||(t.addClass("active").siblings("li").removeClass("active"),reset({team:t.attr("data-filter")}))})}};window.photoPjax=function(t){Object.keys(i).forEach(a=>window.pjaxSerialNumber===t&&i[a]())},window.pjaxSerialNumber||i.initPhotos()})();
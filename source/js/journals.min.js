(()=>{let o=!1;const e={initEvent(){if(!o){let n=$("body");n.on("click",".journal .comment",function(){$(this).parent().parent().siblings(".journal-comment").stop().slideToggle(200)}),n.on("click",".journal-content>.expand-done",function(){Utils.foldBlock($(this).parent())}),o=!0}},initLike(){$(".journal .like").each(function(){Utils.like($(this),$(this).next(),"journals")})},foldJournals(){$(".journal .journal-content").each(function(){const n=$(this);this.scrollHeight>=DreamConfig.journals_fold_height?n.append('<div class="expand-done"><i class="fa fa-angle-double-up"></i></div>'):n.removeClass("fold")})}};window.journalPjax=function(o){0!==$(".card.journal").length&&Object.keys(e).forEach(n=>window.pjaxSerialNumber===o&&e[n]())},window.pjaxSerialNumber||e.initEvent(),window.pjaxSerialNumber||e.initLike(),document.addEventListener("DOMContentLoaded",function(){window.pjaxSerialNumber||e.foldJournals()})})();
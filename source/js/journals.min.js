(()=>{const i={initLike(){$(".journal .like").each(function(){Utils.like($(this),$(this).next(),"journals")})},initComment(){$(".journal .comment").on("click",function(){$(this).parent().parent().siblings(".journal-comment").stop().slideToggle(200)})},foldJournals(){$(".journal .journal-content").each(function(){const n=$(this);n[0].scrollHeight>=DreamConfig.journals_fold_height&&n.append('<div class="expand-done"><i class="fa fa-angle-double-up"></i></div>')}),$(".journal-content>.expand-done").on("click",function(){Utils.foldBlock($(this).parent())})}};window.journalPjax=function(o){Object.keys(i).forEach(n=>window.pjaxSerialNumber===o&&i[n]())},i.initLike(),i.initComment(),document.addEventListener("DOMContentLoaded",function(){i.foldJournals()})})();
(()=>{function s(t,e,n){this.tocList=t,this.elementList=function t(e,n){if(null==e)return null;var i=e.children;if(0==i.length)return null;for(var s=new Array,l=0;l<i.length;l++){var r=i[l];-1!=n.indexOf(r.tagName)&&s.push(r),s.push.apply(s,t(r,n))}return s}(e,this.tocList),this.eIndex=0,this.tocElement=n,this.build=function(){null!=this.elementList&&0!==this.elementList.length&&(n.innerHTML=this.analysis(-1,this.tocList.indexOf(this.elementList[this.eIndex].tagName)))},this.analysis=function(t,e){for(var n="<ul>";this.eIndex<this.elementList.length;){var i=this.elementList[this.eIndex],s=this.tocList.indexOf(i.tagName);if(t<s&&s<=e){e=s;var l=i.id,r=i.innerText;if(null!=l&&""!==l||(l=r+"_"+this.eIndex,i.setAttribute("id",l)),n+="<li><a href='#"+l+"'>"+r+"</a>",this.eIndex++,this.eIndex>=this.elementList.length){n+="</li>";break}(s=this.tocList.indexOf(this.elementList[this.eIndex].tagName))>e&&(n+=this.analysis(e,s)),n+="</li>"}else if(s<=t)break}return n+"</ul>"}}s.init=function(t){var e=t.tocList,n=t.contentElement,t=t.tocElement;if(null==e||0===e.length||null==n||null==t)return!1;for(var i=0;i<e.length;i++)e[i]=e[i].toUpperCase();new s(e,n,t).build()};{var a=window,c=document;s.init({tocList:["h1","h2","h3","h4","h5"],contentElement:$(".main-content")[0],tocElement:$("#toc .card-content")[0]});const t=$("#toc .card-content ul");0===t.length?$("#toc").remove():(t.addClass("menu-list"),$("#toc .card-content a").prepend('<i class="fa fa-paperclip"></i>')),void 0!==a.IntersectionObserver&&c.querySelectorAll("#toc").forEach(function(t){const o=new Set,i=new Map,s=Array.from(t.querySelectorAll(".menu-list > li > a"));for(const t of s){const a=t.getAttribute("href").trim().slice(1),o=c.getElementById(a);o&&i.set(o,t)}const l=Array.from(i.keys()),e=new IntersectionObserver(e=>{for(const a of e)a.isIntersecting?o.add(a.target):o.delete(a.target);let n;if(o.size?n=[...o].sort((t,e)=>t.offsetTop-e.offsetTop)[0]:l.length&&(n=l.filter(t=>t.offsetTop<a.scrollY).sort((t,e)=>e.offsetTop-t.offsetTop)[0]),n&&i.has(n)){s.forEach(t=>t.classList.remove("is-active"));const e=i.get(n);e.classList.add("is-active");let t=e.parentElement.parentElement;for(;t.classList.contains("menu-list")&&"li"===t.parentElement.tagName.toLowerCase();)t.parentElement.children[0].classList.add("is-active"),t=t.parentElement.parentElement}},{threshold:0});for(const t of l){if(e.observe(t),i.has(t)){const o=i.get(t);o.addEventListener("click",()=>{let n,t=c.getElementById(o.getAttribute("href").substring(1)).getBoundingClientRect(),i=a.pageYOffset,s=i+t.top-50,l=(s-i)/20,r=i>s?-1:1;a.requestAnimationFrame(function t(e){(i+=l)*r<s*r?(a.scrollTo(0,i),n=a.requestAnimationFrame(t)):(a.scrollTo(0,s),a.cancelAnimationFrame(n))})})}i.has(t)&&(t.style.scrollMargin="1em")}})}})();
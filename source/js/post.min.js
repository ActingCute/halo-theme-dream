(()=>{var p;(p=jQuery)("pre > code").each(function(t){const i=p(this).parent();let e=p(this).attr("class"),a="",n=!1;if(null!=e){let t=e.indexOf("|"),i=e.indexOf("<");a=-1!==t||-1!==i?((-1===t||-1!==i&&i<t)&&(n=!0,t=i),p(this).attr("class",e.substring(0,t)),t===e.length-1?e.substring(9,t):e.substring(t+1)):e.substring(9)}let l=p(this).text().split("\n").length-1||1,s=String(l).length,o=(1===s&&(s=2),"");for(var r=0;r<l;r++)o+=`<li>${String(r+1).padStart(s,0)}</li>`;let d="codeBlock"+t,c="";n&&(c=" close",p(this).hide());t=`<div><i class="fa fa-angle-down${c}" data-code='#${d}'></i><i class="fa fa-clipboard btn-clipboard" title="复制代码" data-clipboard-target='#${d}'></i></div>`;p(this).attr("id",d),i.prepend(`<ul>${o}</ul>`),l>DreamConfig.code_fold_line?i.wrap('<figure class="fold"></figure>').append('<div class="expand-done"><i class="fa fa-angle-double-up"></i></div>'):i.wrap("<figure></figure>"),i.parent().prepend(`<figcaption>${a}${t}</figcaption>`)}),hljs.initHighlightingOnLoad(),new ClipboardJS(".btn-clipboard").on("error",function(t){t.clearSelection(),alert("您的浏览器不支持复制")}),p(".main-content figure>figcaption .fa-angle-down").on("click",function(){p(this).is(".close")?(p(p(this).attr("data-code")).parent().slideDown(200),p(this).removeClass("close")):(p(p(this).attr("data-code")).parent().slideUp(200),p(this).addClass("close"))}),p(".main-content .expand-done").on("click",function(){const t=p(this).parent().parent(),i=p("body,html"),e=t.height();if(t.is(".fold"))t.removeClass("fold");else{const p=i.scrollTop();t.addClass("fold"),i.scrollTop(p-e+t.height())}})})();
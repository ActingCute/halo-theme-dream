(()=>{var n;(n=jQuery)("pre > code").each(function(){let a=n(this).attr("class");if(null!=a){let t=a.indexOf("|"),i=a.indexOf("<");-1!==t||-1!==i?((-1===t||-1!==i&&i<t)&&(n(this).attr("data-close",!0),t=i),n(this).attr("class",a.substring(0,t)),n(this).attr("data-title",t===a.length-1?a.substring(9,t):a.substring(t+1))):n(this).attr("data-title",a.substring(9))}n(this).addClass("uncode")}),hljs.initHighlightingOnLoad(),n("pre > code").each(function(){let t=n(this).text().split("\n").length-1||1,i=String(t).length;1===i&&(i=2);for(var a="",e=0;e<t;e++)a+=`<li>${String(e+1).padStart(i,0)}</li>`;n(this).parent().prepend(`<ul>${a}</ul>`)}),n("pre > code").each(function(){n(this).parent().wrap("<figure></figure>");var t=n(this).attr("data-title");null!=t?n(this).parent().parent().prepend(`<figcaption>${t}</figcaption>`):n(this).parent().parent().prepend("<figcaption></figcaption>")}),n("pre").each(function(t){let i="codeBlock"+t,a=n(this).children("code"),e=(a.attr("id",i),"");"true"===a.attr("data-close")&&(e=" close",a.hide());t=n(`<div><i class="fa fa-angle-down${e}" data-code='#${i}'></i><i class="fa fa-clipboard btn-clipboard" title="复制代码" data-clipboard-target='#${i}'></i></div>`);n(this).siblings("figcaption").append(t)}),new ClipboardJS(".btn-clipboard").on("error",function(t){t.clearSelection(),alert("您的浏览器不支持复制")}),n(".main-content figure>figcaption .fa-angle-down").on("click",function(){n(this).is(".close")?(n(n(this).attr("data-code")).parent().slideDown(200),n(this).removeClass("close")):(n(n(this).attr("data-code")).parent().slideUp(200),n(this).addClass("close"))})})();